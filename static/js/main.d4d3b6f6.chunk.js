(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{15:function(e,t,n){"use strict";n.r(t);var s=n(0),r=n(3),i=n(6),c=n.n(i),a=(n(5),n(1)),l=n.n(a),u=n(7),o=n(2),d=(n(14),"8891d5cefed0da21234ba062e1c9a7d7"),j="https://api.themoviedb.org/3/";function h(e){return Object(s.jsx)("div",{class:"center",children:Object(s.jsx)("form",{onSubmit:e.handleSubmit,children:Object(s.jsx)("div",{class:"ui one column stackable center aligned page grid",children:Object(s.jsxs)("div",{class:"column eight wide",children:[Object(s.jsxs)("div",{class:"ui fluid icon input",style:{marginTop:"8%"},children:[Object(s.jsx)("input",{type:"text",name:"show",placeholder:"Search for a TV Show"}),Object(s.jsx)("i",{type:"submit",class:"search icon"})]}),Object(s.jsx)("div",{class:"ui fluid icon input",style:{marginTop:"7%"}}),Object(s.jsx)("button",{class:"ui button",type:"submit",children:"Search"})]})})})})}function b(e){if(""===e.data.query)return Object(s.jsx)("div",{class:"ui one column stackable center aligned page grid",children:Object(s.jsx)("div",{class:"column eight wide",children:Object(s.jsx)("div",{class:"ui segment",children:"Please enter a non-empty search."})})});if(void 0!==e.data.query&&void 0===e.data.id)return Object(s.jsx)("div",{class:"ui one column stackable center aligned page grid",children:Object(s.jsx)("div",{class:"column eight wide",children:Object(s.jsxs)("div",{class:"ui segment",children:[Object(s.jsx)("div",{class:"ui active inverted dimmer",children:Object(s.jsx)("div",{class:"ui small text loader",children:"Loading... if it exists ;)"})}),Object(s.jsx)("p",{}),Object(s.jsx)("p",{}),Object(s.jsx)("h1",{})]})})});if(void 0===e.data.id)return Object(s.jsx)("p",{});if(0===Object.keys(e.data).length&&e.data.constructor===Object)return Object(s.jsx)("h1",{style:{textAlign:"center"},children:"Enter a search query"});if(7089===e.data.id)return Object(s.jsx)("h1",{style:{textAlign:"center"},children:"Enter a search query"});var t=[],n=Object(s.jsx)("th",{rowSpan:e.data.num_seasons+2,children:Object(s.jsx)("p",{class:"rotate",children:"Season Number"})});t.push(n);for(var r=0,i=1;i<=e.data.num_seasons;i++){var c="season"+i;r=r<e.data.seasons[c].length?e.data.seasons[c].length:r,n=Object(s.jsxs)("tr",{children:[Object(s.jsx)("th",{children:i}),e.data.seasons[c].map((function(e){return Object(s.jsxs)("td",{"data-value":e,children:[" ",e," "]})}))]}),t.push(n)}var a=[];a.push(Object(s.jsx)("th",{})),a.push(Object(s.jsx)("th",{}));for(var l=1;l<=r;l++)a.push(Object(s.jsx)("th",{children:l}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h1",{class:"medium text",style:{textAlign:"center"},children:e.data.name}),Object(s.jsx)("h2",{style:{textAlign:"center"},children:"Average Rating Per Episode"}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{class:"ui one column stackable center aligned page grid",children:Object(s.jsxs)("table",{children:[Object(s.jsx)("th",{colSpan:r+2,children:"Episode Number"}),Object(s.jsxs)("tbody",{children:[Object(s.jsx)("tr",{children:a}),t]})]})}),Object(s.jsx)("br",{})]})}function p(e){if(void 0===e.data.id)return Object(s.jsx)("p",{});if(0===e.data.similarShows.length)return Object(s.jsx)("h2",{style:{textAlign:"center"},children:"No Similar Shows"});for(var t=[],n=0;n<e.data.similarShows.length;n++)t.push(Object(s.jsx)("div",{children:Object(s.jsx)("form",{onSubmit:e.handleSubmit,children:Object(s.jsx)("input",{class:"ui button",type:"submit",name:"show",value:e.data.similarShows[n]})})}));return Object(s.jsxs)("div",{children:[Object(s.jsx)("h2",{style:{textAlign:"center"},children:"Similar Shows"}),Object(s.jsx)("br",{}),Object(s.jsx)("div",{class:"ui one column stackable center aligned page grid",children:Object(s.jsx)("div",{class:"ui segment",children:Object(s.jsx)("div",{class:"ui buttons",children:t})})}),Object(s.jsx)("br",{})]})}function x(e){return void 0===e.data.id?Object(s.jsx)("p",{}):null===e.data.reviews?Object(s.jsx)("h2",{style:{textAlign:"center"},children:"No Reviews"}):Object(s.jsx)("div",{class:"ui two column centered grid divided",children:Object(s.jsxs)("div",{class:"three column centered row",children:[Object(s.jsxs)("div",{class:"column",children:[Object(s.jsx)("h2",{style:{textAlign:"center"},children:"Top Positive Review"})," ",Object(s.jsx)("br",{}),Object(s.jsx)("p",{style:{textAlign:"center"},id:"demo",children:Object(s.jsxs)("i",{children:['"',e.data.reviews.positive_quote,'"']})}),Object(s.jsx)("p",{style:{textAlign:"center"},children:Object(s.jsxs)("i",{children:["-",e.data.reviews.positive_author]})}),Object(s.jsx)("button",{onClick:function(){return e.handlePositiveReview(e.data.reviews)},class:"basic ui button centered",children:"Show full review"})]}),Object(s.jsxs)("div",{class:"column",children:[Object(s.jsx)("h2",{style:{textAlign:"center"},children:"Top Critical Review"})," ",Object(s.jsx)("br",{}),Object(s.jsx)("p",{id:"test",style:{textAlign:"center"},children:Object(s.jsxs)("i",{children:['"',e.data.reviews.negative_quote,'"']})}),Object(s.jsx)("p",{style:{textAlign:"center"},children:Object(s.jsxs)("i",{children:["-",e.data.reviews.negative_author]})}),Object(s.jsx)("button",{onClick:function(){return e.handleNegativeReview(e.data.reviews)},class:"basic ui button centered",children:"Show full review"})]})]})})}function v(e){return O.apply(this,arguments)}function O(){return(O=Object(o.a)(l.a.mark((function e(t){var n,s,r,i;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"search/tv?api_key=",d,"&query=",encodeURIComponent(t),"&include_adult=false"),e.next=3,fetch(n);case 3:return s=e.sent,e.next=6,s.json();case 6:return r=e.sent,i=[],0!==r.total_pages&&(i[0]=r.results[0].id,i[1]=r.results[0].name),e.abrupt("return",0!==r.total_pages?i:null);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e){return g.apply(this,arguments)}function g(){return(g=Object(o.a)(l.a.mark((function e(t){var n,s,r,i,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"tv/",t,"?api_key=",d,"&language=en-US"),e.next=3,fetch(n);case 3:return s=e.sent,e.next=6,s.json();case 6:for(r=e.sent,i=0,c=0;c<r.seasons.length;c++)0!==r.seasons[c].season_number&&(i+=1);return e.abrupt("return",i);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function m(e,t){return w.apply(this,arguments)}function w(){return(w=Object(o.a)(l.a.mark((function e(t,n){var s,r,i,c,a,u,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:s={},r=1;case 2:if(!(r<=n)){e.next=16;break}return i="".concat(j,"tv/",t,"/season/",r,"?api_key=",d,"&language=en-US"),e.next=6,fetch(i);case 6:return c=e.sent,e.next=9,c.json();case 9:for(a=e.sent,u=[],o=0;o<a.episodes.length;o++)u.push(a.episodes[o].vote_average);s["season"+String(r)]=u;case 13:r++,e.next=2;break;case 16:return e.abrupt("return",s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function y(e){return S.apply(this,arguments)}function S(){return(S=Object(o.a)(l.a.mark((function e(t){var n,s,r,i,c,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"tv/",t,"/similar?api_key=",d,"&language=en-US&page=1"),e.next=3,fetch(n);case 3:return s=e.sent,e.next=6,s.json();case 6:for(r=e.sent,i=r.results.length<5?r.results.length:5,c=[];c.length!==i;)a=Math.floor(Math.random()*r.results.length),c.includes(r.results[a].name)||c.push(r.results[a].name);return e.abrupt("return",c);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _(e){return k.apply(this,arguments)}function k(){return(k=Object(o.a)(l.a.mark((function e(t){var n,s,r,i,c,a,u,o,h,b;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(j,"tv/",t,"/reviews?api_key=",d,"&language=en-US&page=1"),e.next=3,fetch(n);case 3:return s=e.sent,e.next=6,s.json();case 6:if(0!==(r=e.sent).results.length){e.next=9;break}return e.abrupt("return",null);case 9:for(i=0,c=r.results.length-1,a=0;a<r.results.length;a++)u=r.results[a].author_details.rating,""!==r.results[a].content&&(r.results[c].author_details.rating>u&&(c=a),r.results[i].author_details.rating<u&&(i=a));return console.log(i),console.log(c),(o=[]).positive_full=r.results[i].content,h=o.positive_full.length<100?o.positive_full.length:100,o.positive_quote=r.results[i].content.slice(0,h)+"...",o.positive_author=r.results[i].author,o.negative_full=r.results[c].content,b=o.positive_full.length<100?o.positive_full.length:100,o.negative_quote=r.results[c].content.slice(0,b)+"...",o.negative_author=r.results[c].author,e.abrupt("return",o);case 24:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function A(){var e=Object(r.useState)({}),t=Object(u.a)(e,2),n=t[0],i=t[1],c=function(e){e.preventDefault();var t={submitted:!0};t.query=e.target.show.value,i(t)};Object(r.useEffect)((function(){function e(){return(e=Object(o.a)(l.a.mark((function e(){var t,s,r,c,a,u,o;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((t=JSON.parse(JSON.stringify(n))).submitted=!1,i(t),""!==n.query){e.next=5;break}return e.abrupt("return");case 5:return e.next=7,v(n.query);case 7:if(null!==(s=e.sent)&&7089!==s[0]){e.next=10;break}return e.abrupt("return");case 10:return r=s[0],t.id=r,t.name=s[1],e.next=15,f(r);case 15:return c=e.sent,e.next=18,m(r,c);case 18:return a=e.sent,e.next=21,y(r);case 21:return u=e.sent,e.next=24,_(r);case 24:o=e.sent,t.num_seasons=c,t.seasons=a,t.similarShows=u,t.reviews=o,i(t);case 30:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n.submitted]);return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{style:{marginTop:"5%"},children:Object(s.jsx)("h1",{class:"large text",style:{textAlign:"center"},children:"TV-Shows-Dashboard"})}),Object(s.jsx)(h,{handleSubmit:c}),Object(s.jsx)("br",{}),Object(s.jsx)(b,{data:n}),Object(s.jsx)("br",{}),Object(s.jsx)(p,{data:n,handleSubmit:c}),Object(s.jsx)("br",{}),Object(s.jsx)(x,{data:n,handleNegativeReview:function(e){if(null!==e){var t=JSON.parse(JSON.stringify(n));t.reviews=e,t.reviews.negative_quote=t.reviews.negative_full,i(t)}},handlePositiveReview:function(e){if(null!==e){var t=JSON.parse(JSON.stringify(n));t.reviews=e,t.reviews.positive_quote=t.reviews.positive_full,i(t)}}})]})}var q=function(){return Object(s.jsxs)("div",{className:"App",children:[Object(s.jsx)("header",{className:"App-header"}),Object(s.jsx)("div",{children:Object(s.jsx)(A,{})})]})};c.a.render(Object(s.jsx)(q,{}),document.getElementById("root"))},5:function(e,t,n){}},[[15,1,2]]]);
//# sourceMappingURL=main.d4d3b6f6.chunk.js.map